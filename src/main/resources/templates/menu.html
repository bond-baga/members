<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:th="http://www.thymeleaf.org"
      class="menu">
      
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="./css/example.css">
  <script src="./js/jquery-3.7.1.js"> </script>
  <script src="./js/main.js"></script>
  <title>menu</title>
</head>

<body>
<header>
	<div class="box">
  		<p></p>
  		<p><span class="title"><label id="title"></label></span></p>  
  		<p><span class="user">
			  <label id="user"></label>
   			  <button type="button" onclick="logoutclick()">ログアウト</button>
  		   </span>
  		</p>  		
	</div>	
</header>

<form id="form" method="post" th:action="@{/logout}">
    <div class="slightly-left">
    <h3>処理を選択してください</h3>     
    </div>

	<table class="menu-center">
        <tr>
            <td>
    			<button type="button" class="menu-button" onclick="listclick()">一覧</button>
            </td>
        </tr>

        <tr>
            <td>
    			<button type="button" class="menu-button" onclick="videoclick()">動画</button>
            </td>
        </tr>

        <tr>
            <td>
    			<button type="button" class="menu-button" onclick="openclick()">公開</button>
            </td>
        </tr>
    </table>    
</form>
        
<footer>
    <p>© All rights reserved by PALM</p>
</footer>

<script th:inline="javascript">	
	
window.onload =  function() {
	let title = /*[[${title}]]*/"title";
	let user = /*[[${session.user['fullname']}]]*/"user";
	
    let element_title = document.getElementById("title");	
	element_title.textContent = title;
    let element_user = document.getElementById("user");	
	element_user.textContent = "ユーザー：" + user;
}
     
function nameclick() {
    let form = document.getElementById("form");
    form.method="get";
    form.action="/list";
    form.submit();
}  

function listclick(){
    let form = document.getElementById("form");
    //form.method="get";
    form.action="/list";
    form.submit();	
}

function videoclick(){
    let form = document.getElementById("form");
    //form.method="get";
    form.action="/video";
    form.submit();	
}

function openclick(){
    let form = document.getElementById("form");
    //form.method="get";
    form.action="/open";
    form.submit();	
}

function logoutclick() {
	let result = confirm('ログアウトしますか？');
	if (result){
    	let form = document.getElementById("form");
    	form.submit();	
	}
}

</script>
</body>
</html>